(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{150:function(e,t,n){},260:function(e,t,n){},433:function(e,t,n){"use strict";n.r(t);var s=n(38),a=n(3),c=n(2),r=n.n(c),i=n(41),o=n.n(i),l=(n(260),n(221)),u=n(222),j=n(228),d=n(227),b=(n(150),n(436)),m=n(437),h=n(27),p=n(51),O=n(60),f="auth/SET_USER_DATA",g={uid:null,name:null,email:null,photoUrl:null,emailVerified:null,isAuth:!1},x=function(e,t,n,s,a,c){return{type:f,payload:{uid:e,name:t,email:n,photoUrl:s,emailVerified:a,isAuth:c}}},v=function(){return function(e){p.a.auth().signOut().then((function(){console.log("then signOutSuccess =>"),e(x(null,null,null,null,null,!1))})).catch((function(e){console.log("catch signOutError =>",e)}))}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},y=n(26),A=Object(y.b)((function(e){return{uid:e.firebase.auth.uid,email:e.firebase.auth.email}}),{signOut:v,getAuthUserData:function(){return function(e){p.a.auth().onAuthStateChanged((function(t){t?(console.log("User is signed in",t.uid,t.displayName,t.email,t.photoURL,t.emailVerified,!0),e(x(t.uid,t.displayName,t.email,t.photoURL,t.emailVerified,!0))):console.log("No user is signed in")}))}}})((function(e){Object(c.useEffect)((function(){return e.getAuthUserData()}));return Object(a.jsxs)(b.a,{bg:"dark",variant:"dark",fixed:"top",expand:"sm",children:[Object(a.jsx)(b.a.Brand,{children:"My APP"}),Object(a.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsxs)(m.a,{className:"mr-auto",children:[Object(a.jsx)(h.b,{className:"nav-link",to:"/home",children:"Home"}),Object(a.jsx)(h.b,{className:"nav-link",to:"/shop",children:"Shop"}),Object(a.jsx)(h.b,{className:"nav-link",to:"/admin",children:"Admin"})]}),Object(a.jsxs)(m.a,{children:[Object(a.jsx)("p",{children:e.email}),e.uid?Object(a.jsx)(h.b,{className:"nav-link",to:"/",onClick:function(){return e.signOut()},children:"Sign Out"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h.b,{className:"nav-link",to:"/sign-in",children:"Sign in"}),Object(a.jsx)(h.b,{className:"nav-link",to:"/sign-up",children:"Sign up"})]})]})]})]})})),S=n(15),k=n(218),w=n(219),U=function(e){return e?void 0:"Field is required"},E=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},F=n(229),I=function(e){var t=e.input,n=e.meta,c=Object(F.a)(e,["input","meta"]),r=n.touched&&n.error;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",Object(s.a)(Object(s.a)({},t),c)),r&&Object(a.jsx)("span",{children:n.error})]})},R=Object(w.a)({form:"signIn"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("h3",{children:"Sign in"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)(k.a,{className:"form-control",name:"email",placeholder:"Enter email",type:"email",component:I,validate:[U,E]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)(k.a,{className:"form-control",name:"password",placeholder:"Enter password",type:"password",component:I})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),Object(a.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})}),e.error&&Object(a.jsx)("div",{className:"form-group",children:e.error}),Object(a.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",children:"Sign in"}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Unregistered",Object(a.jsx)(h.b,{to:"/sign-up",children:" Sign up ?"})]}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(a.jsx)("a",{href:"#",children:"password?"})]})]})})),C=Object(y.b)((function(e){return{uid:e.firebase.auth.uid,isAuth:e.auth.isAuth}}),{signIn:function(e,t){return function(n){p.a.auth().signInWithEmailAndPassword(e,t).then((function(e){n(x(e.user.uid,e.user.displayName,e.user.email,e.user.photoURL,e.user.emailVerified,!0)),console.log("signInSuccess =>",e.user)})).catch((function(e){n(Object(O.a)("signIn",{_error:e.message})),console.log("signInError =>",e.code)}))}}})((function(e){console.log(e);return Object(a.jsx)(R,{onSubmit:function(t){console.log(t),e.signIn(t.email,t.password)}})})),L=Object(w.a)({form:"signUp",required:U})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("h3",{children:"Register"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"First name"}),Object(a.jsx)(k.a,{className:"form-control",name:"firstName",placeholder:"First name",component:"input",type:"text"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Last name"}),Object(a.jsx)(k.a,{className:"form-control",name:"lastName",placeholder:"Last name",component:"input",type:"text"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)(k.a,{className:"form-control",name:"email",placeholder:"Enter email",type:"email",component:I,validate:[U,E]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)(k.a,{className:"form-control",name:"password",placeholder:"Enter password",component:I,type:"password"})]}),e.error&&Object(a.jsx)("div",{className:"form-group",children:e.error}),Object(a.jsx)("button",{type:"submit",className:"btn btn-dark btn-lg btn-block",children:"Register"}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Already registered",Object(a.jsx)(h.b,{to:"/sign-in",children:"Sign in?"})]})]})})),P=Object(y.b)((function(e){return{uid:e.firebase.auth.uid,isAuth:e.auth.isAuth}}),{signUp:function(e,t){return function(n){p.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){n(x(e.user.uid,e.user.displayName,e.user.email,e.user.photoURL,e.user.emailVerified,!0)),console.log("signUpSuccess =>",e.user)})).catch((function(e){n(Object(O.a)("signUp",{_error:e.message})),console.log("signUpError =>",e.code)}))}}})((function(e){return Object(a.jsx)(L,{onSubmit:function(t){console.log(t),e.signUp(t.email,t.password)}})}));function T(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("h1",{children:"Home"})})}function B(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("h1",{children:"Shop"})})}var D=n(16),V=n(220),M=n(149),_=n(65),Z=Object(D.c)({auth:N,form:V.a,firebase:_.firebaseReducer}),q=Object(D.d)(Z,Object(D.a)(M.a,M.a.withExtraArgument({getFirebase:_.getFirebase})));window.store=q;var J=q,z=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(A,{}),Object(a.jsx)("div",{className:"outer",children:Object(a.jsx)("div",{className:"inner",children:Object(a.jsxs)(S.c,{children:[Object(a.jsx)(S.a,{exact:!0,path:"/",render:function(){return Object(a.jsx)(T,{})}}),Object(a.jsx)(S.a,{path:"/home",render:function(){return Object(a.jsx)(T,{})}}),Object(a.jsx)(S.a,{path:"/shop",render:function(){return Object(a.jsx)(B,{})}}),Object(a.jsx)(S.a,{path:"/sign-in",render:function(){return Object(a.jsx)(C,{})}}),Object(a.jsx)(S.a,{path:"/sign-up",component:P})]})})})]})}}]),n}(r.a.Component),H=Object(y.b)((function(e){return{state:e.firebase.auth}}))(z),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,438)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))},K=(n(430),n(108)),Y=(n(431),n(432),{apiKey:"AIzaSyAtAB2pg0qUtIljiJwYBcNM4meMTZNaT-k",authDomain:"myappreact-3f183.firebaseapp.com",databaseURL:"https://myappreact-3f183-default-rtdb.firebaseio.com",projectId:"myappreact-3f183",storageBucket:"myappreact-3f183.appspot.com",messagingSenderId:"172280822778",appId:"1:172280822778:web:c0b880a37e3862e9834243"});K.a.initializeApp(Y),K.a.firestore();var $={firebase:K.a,config:Y,dispatch:J.dispatch};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(_.ReactReduxFirebaseProvider,Object(s.a)(Object(s.a)({},$),{},{children:Object(a.jsx)(y.a,{store:J,children:Object(a.jsx)(h.a,{children:Object(a.jsx)(H,{})})})}))}),document.getElementById("root")),W()}},[[433,1,2]]]);
//# sourceMappingURL=main.11d51e45.chunk.js.map